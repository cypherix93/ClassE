var AngularApp=angular.module("AngularApp",["ngSanitize","ngRoute","ngAnimate","ngMessages","ui.bootstrap"]);AngularApp.service("ConfigSvc",["$http",function(e){var s=this;s.GetAppMeta=function(){return e.get("angular/meta.json")}}]),AngularApp.service("AuthSvc",["$q","$http","IdentitySvc",function(e,s,t){var n=this;n.loginUser=function(n,r){var c=e.defer();return s.post("http://localhost:3960/auth/login",{email:n,password:r}).success(function(e){e.success||c.resolve({success:!0,message:e.message}),t.currentUser=e.data,c.resolve({success:!0})}),c.promise}}]),AngularApp.service("IdentitySvc",function(){var e=this;e.currentUser=void 0,e.isAuthenticated=function(){return!!e.currentUser}}),AngularApp.controller("LoginModalCtrl",["$scope","AuthSvc","IdentitySvc","toastr",function(e,s,t,n){e.doLogin=function(){e.email&&e.password&&s.loginUser(e.email,e.password).then(function(e){e.success||n.error(e.message),n.success("Welcome back "+t.email)})}}]);